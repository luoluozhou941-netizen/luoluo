<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>京瓷复古手机模拟器</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Helvetica Neue', sans-serif;
            user-select: none;
        }
        
        *:focus {
            outline: none !important;
        }
        
        * {
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #e6d6df 0%, #d4c1cf 100%);
            padding: 20px;
            color: #5a4a52;
        }
        
        :root {
            --primary-pink: #d8a3bb;
            --primary-purple: #9a8bbd;
            --primary-blue: #7aa9c6;
            --primary-deep: #8a6b7d;
            --bg-light: #f8f5f7;
            --bg-content: #ffffff;
            --text-dark: #5a4a52;
            --text-medium: #8a6b7d;
            --text-light: #b8a6b1;
            --border-color: #e6d6e1;
            --shadow-strong: rgba(138, 107, 125, 0.3);
            --period-red: #e8a3bb;
            --period-bg: rgba(232, 163, 187, 0.15);
        }
        
        .kyocera-phone {
            width: 360px;
            height: 720px;
            background: #f0e6ed;
            border-radius: 40px;
            padding: 15px;
            box-shadow: 
                0 15px 35px var(--shadow-strong),
                inset 0 0 20px rgba(255, 255, 255, 0.7);
            position: relative;
            border: 2px solid #d8c9d2;
            transition: all 0.3s ease;
        }
        
        /* 全屏模式 */
        .kyocera-phone.fullscreen {
            width: 100vw;
            height: 100vh;
            border-radius: 0;
            padding: 0;
            border: none;
            box-shadow: none;
        }
        
        /* 全屏时的屏幕容器 */
        .kyocera-phone.fullscreen .screen {
            width: 100%;
            height: 100%;
            border-radius: 0;
            border: none;
        }
        
        /* 全屏时隐藏听筒 */
        .kyocera-phone.fullscreen .earpiece {
            display: none;
        }
        
        .earpiece {
            width: 80px;
            height: 4px;
            background: var(--text-medium);
            border-radius: 2px;
            margin: 0 auto 15px;
            position: relative;
            z-index: 10;
            opacity: 0.8;
        }
        
        .screen {
            width: 100%;
            height: calc(100% - 40px);
            background: var(--bg-content);
            border-radius: 25px;
            overflow: hidden;
            position: relative;
            border: 1.5px solid var(--border-color);
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
        }
        
        .wallpaper {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(160deg, #f8e8f0 0%, #e8d8e8 50%, #d8c8e0 100%);
            z-index: 1;
        }
        
        .boot-screen {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: radial-gradient(circle at top, #faf7fa, #ffffff);
            animation: bootFadeOut 1s ease 3s forwards;
            z-index: 50;
            position: absolute;
        }
        
        .logo {
            font-size: 36px;
            font-weight: 500;
            letter-spacing: 0.5px;
            color: #d8a3bb;
            margin-bottom: 20px;
            animation: logoFadeIn 1.2s ease-out forwards;
        }
        
        .slogan {
            font-size: 14px;
            color: #8a6b7d;
            letter-spacing: 0.3px;
            animation: sloganFadeIn 1s ease-out 0.8s forwards;
            opacity: 0;
        }
        
        .lock-screen {
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at bottom right, #f8e8f0, #e8d8e8);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 70px 24px 46px;
            position: absolute;
            z-index: 40;
            transition: transform 0.4s ease-out;
        }
        
        .lock-screen.unlocked {
            transform: translateY(-100%);
        }
        
        .lock-time {
            font-size: 64px;
            font-weight: 300;
            color: #5a4a52;
            text-align: center;
        }
        
        .lock-info {
            text-align: center;
        }
        
        .lock-date {
            font-size: 18px;
            color: #8a6b7d;
            margin-bottom: 10px;
        }
        
        .lock-slogan {
            font-size: 14px;
            color: #8a6b7d;
            letter-spacing: 0.3px;
        }
        
        .unlock-tip {
            text-align: center;
            font-size: 13px;
            color: #8a6b7d;
        }
        
        .unlock-icon {
            width: 34px;
            height: 6px;
            background-color: #8a6b7d;
            border-radius: 3px;
            margin: 10px auto 0;
            animation: bounce 1.5s infinite alternate;
        }
        
        .status-bar {
            width: 100%;
            height: 30px;
            padding: 0 18px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
            font-weight: 600;
            z-index: 20;
            position: relative;
            flex-shrink: 0;
            background: transparent;
            margin-top: 4px;
        }
        
        .time-display {
            color: var(--text-dark);
            font-weight: 700;
            font-size: 13px;
            margin-right: 12px;
        }
        
        .cloud-container {
            position: absolute;
            left: 50%;
            top: 3px;
            transform: translate(-50%, 0);
            width: 120px;
            height: 26px;
            overflow: hidden;
            border-radius: 13px;
            z-index: 20;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 8px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .cloud-bar {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(240, 234, 245, 0.95), rgba(232, 223, 240, 0.95));
            border-radius: 13px;
            box-shadow: 0 1px 4px rgba(156, 139, 165, 0.25);
            display: flex;
            align-items: center;
            padding: 0 8px;
            gap: 4px;
            opacity: 1;
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            pointer-events: none;
        }
        
        .cloud-bar .icon {
            font-size: 10px;
            color: var(--primary-pink);
        }
        
        .cloud-bar .text {
            font-size: 9.5px;
            color: var(--text-medium);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            font-weight: 600;
        }
        
        .status-icons {
            display: flex;
            align-items: center;
            gap: 3px;
            margin-top: 3px;
        }
        
        .signal-icon {
            display: flex;
            align-items: flex-end;
            height: 12px;
            gap: 2px;
        }
        
        .signal-bar {
            width: 2.2px;
            background-color: var(--primary-pink);
            border-radius: 1px;
        }
        
        .signal-bar:nth-child(1) { height: 3.8px; }
        .signal-bar:nth-child(2) { height: 5.8px; }
        .signal-bar:nth-child(3) { height: 7.8px; }
        .signal-bar:nth-child(4) { height: 9.8px; }
        
        .wifi-icon-real {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 16px;
        }
        
        .wifi-icon-real i {
            font-size: 11.5px;
            color: var(--primary-pink);
        }
        
        .battery-icon {
            display: flex;
            align-items: center;
            position: relative;
            margin-left: 2px;
        }
        
        .battery-body {
            width: 19px;
            height: 10px;
            border: 1px solid var(--text-dark);
            border-radius: 2px;
            position: relative;
            background-color: rgba(255, 255, 255, 0.5);
        }
        
        .battery-capacity {
            position: absolute;
            top: 1.5px;
            left: 1.5px;
            bottom: 1.5px;
            width: 85%;
            background-color: var(--primary-pink);
            border-radius: 1px;
        }
        
        .battery-head {
            width: 2px;
            height: 5px;
            background-color: var(--text-dark);
            border-radius: 0 1.5px 1.5px 0;
            margin-left: -0.5px;
        }
        
        .screens-container {
            flex: 1;
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            position: relative;
            z-index: 10;
            margin-top: 4px;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .screens-container::-webkit-scrollbar {
            display: none;
        }
        
        .home-screen-page {
            flex: 0 0 100%;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding-bottom: 88px;
            scroll-snap-align: start;
            position: relative;
        }
        
        .app-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 18px 14px;
            max-width: 320px;
            margin: 0 auto;
            margin-bottom: 5px;
            position: relative;
            z-index: 11;
            padding: 0 10px;
        }
        
        .period-widget {
            grid-column: span 2;
            grid-row: span 2;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 20px;
            border: 1.5px solid rgba(255, 255, 255, 0.9);
            box-shadow: 
                0 4px 12px rgba(138, 107, 125, 0.15),
                inset 0 0 0 1px rgba(232, 163, 187, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);
            position: relative;
            overflow: hidden;
        }
        
        .period-widget::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(232, 163, 187, 0.08) 0%, 
                rgba(232, 163, 187, 0.04) 50%, 
                rgba(255, 255, 255, 0) 100%);
            z-index: -1;
        }
        
        .period-widget:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 
                0 8px 24px rgba(138, 107, 125, 0.2),
                inset 0 0 0 1px rgba(232, 163, 187, 0.3);
            border-color: rgba(232, 163, 187, 0.4);
        }
        
        .period-widget.active {
            background: rgba(232, 163, 187, 0.12);
        }
        
        .period-icon-container {
            width: 56px;
            height: 56px;
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 4px 8px rgba(138, 107, 125, 0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1.5px solid rgba(232, 163, 187, 0.3);
            margin-bottom: 8px;
        }
        
        .period-icon {
            font-size: 28px;
            color: var(--period-red);
            filter: drop-shadow(0 2px 3px rgba(232, 163, 187, 0.4));
        }
        
        .period-status {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 5px;
            text-align: center;
        }
        
        .period-day {
            font-size: 14px;
            color: var(--text-medium);
            margin-bottom: 12px;
            font-weight: 500;
        }
        
        .period-info {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            width: 100%;
        }
        
        .period-next {
            font-size: 13px;
            color: var(--text-medium);
            text-align: center;
            line-height: 1.4;
        }
        
        .period-countdown {
            font-size: 12px;
            color: var(--primary-deep);
            font-weight: 600;
            background: rgba(232, 163, 187, 0.1);
            padding: 4px 10px;
            border-radius: 10px;
            border: 1px solid rgba(232, 163, 187, 0.2);
        }
        
        .app-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: all 0.25s ease;
            padding: 0;
            background: transparent;
            border: none;
        }
        
        .icon-square {
            width: 56px;
            height: 56px;
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 1.5px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 4px 8px rgba(138, 107, 125, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            transition: all 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);
        }
        
        .icon-square i {
            font-size: 24px;
            transition: all 0.2s;
            opacity: 0.9;
        }
        
        .app-name {
            font-size: 11px;
            text-align: center;
            color: var(--text-dark);
            font-weight: 500;
            letter-spacing: 0.3px;
            line-height: 1.3;
            max-width: 65px;
            word-break: break-word;
            opacity: 0.9;
        }
        
        .bottom-nav-modern {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 92%;
            height: 65px;
            background: rgba(255, 255, 255, 0.78);
            backdrop-filter: blur(25px) saturate(180%);
            -webkit-backdrop-filter: blur(25px) saturate(180%);
            border-radius: 22px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            z-index: 30;
            box-shadow: 
                0 -1px 6px rgba(0, 0, 0, 0.02),
                0 6px 20px rgba(138, 107, 125, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.6);
        }
        
        .nav-icon-modern {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: rgba(184, 166, 177, 0.85);
            cursor: pointer;
            padding: 12px 15px;
            border-radius: 16px;
            transition: all 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);
            flex: 1;
            max-width: 100px;
            opacity: 0.9;
        }
        
        .nav-icon-modern:hover {
            background: rgba(216, 163, 187, 0.1);
            color: var(--text-medium);
        }
        
        .nav-icon-modern.active {
            background: rgba(216, 163, 187, 0.2);
            color: var(--primary-pink);
            transform: translateY(-5px);
        }
        
        .nav-icon-modern i {
            font-size: 22px;
            margin-bottom: 6px;
            opacity: 0.9;
            color: inherit;
        }
        
        .nav-name-modern {
            font-size: 11px;
            font-weight: 600;
            opacity: 0.9;
        }

        /* ========== 应用界面样式 ========== */
        .app-view {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-content);
            z-index: 100;
            display: none;
            flex-direction: column;
        }

        .app-view.active {
            display: flex;
        }

        .app-header {
            height: 50px;
            padding: 0 18px;
            display: flex;
            align-items: center;
            flex-shrink: 0;
            border-bottom: 1px solid var(--border-color);
        }

        .back-button {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(216, 163, 187, 0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-right: 15px;
            border: none;
            color: var(--primary-pink);
        }

        .back-button:hover {
            background: rgba(216, 163, 187, 0.25);
            transform: scale(1.05);
        }

        .back-button i {
            font-size: 18px;
        }

        .app-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-dark);
        }

        .app-content {
            flex: 1;
            overflow-y: auto;
            padding: 0 18px 20px;
        }

        .settings-list {
            margin-top: 10px;
        }

        /* ==================== 设置卡片样式 ==================== */
        .setting-item {
            background: var(--bg-light);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid transparent;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: none !important;
        }

        .setting-item:hover {
            border-color: var(--primary-pink);
            transform: none;
        }

        .setting-item-left {
            display: flex;
            flex-direction: column;
        }

        .setting-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 4px;
        }

        .setting-desc {
            font-size: 13px;
            color: var(--text-medium);
            line-height: 1.4;
        }

        .setting-arrow {
            font-size: 14px;
            color: var(--text-light);
        }

        /* ==================== 显示设置页面样式 ==================== */
        .display-settings-view {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-content);
            z-index: 100;
            display: none;
            flex-direction: column;
        }

        .display-settings-view.active {
            display: flex;
        }

        .display-app-header {
            height: 50px;
            padding: 0 18px;
            display: flex;
            align-items: center;
            flex-shrink: 0;
            border-bottom: 1px solid var(--border-color);
        }

        .display-app-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-dark);
        }

        .display-app-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: var(--bg-content);
        }

        /* 开关按钮样式 */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 52px;
            height: 28px;
            flex-shrink: 0;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #e6d6e1;
            border-radius: 34px;
            transition: .3s;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            border-radius: 50%;
            transition: .3s;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        input:checked + .toggle-slider {
            background-color: var(--primary-pink);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }

        /* 开关项样式 */
        .switch-item {
            background: var(--bg-light);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid transparent;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: none !important;
        }

        .switch-item:hover {
            border-color: var(--primary-pink);
        }

        .switch-item-left {
            display: flex;
            flex-direction: column;
            flex: 1;
        }

        .switch-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 4px;
        }

        .switch-desc {
            font-size: 13px;
            color: var(--text-medium);
            line-height: 1.4;
        }

        /* 亮度调节滑块 */
        .brightness-slider-container {
            background: var(--bg-light);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .brightness-label {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 15px;
            display: block;
        }

        .brightness-control {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .brightness-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-medium);
            flex-shrink: 0;
        }

        .brightness-slider {
            flex: 1;
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: #e6d6e1;
            border-radius: 3px;
            outline: none;
        }

        .brightness-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: var(--primary-pink);
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(216, 163, 187, 0.4);
        }

        .brightness-slider::-moz-range-thumb {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: var(--primary-pink);
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(216, 163, 187, 0.4);
        }

        /* ==================== API 设置页面样式 ==================== */
        .api-settings-container {
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
        }

        .api-settings-container.active {
            display: flex;
        }

        .api-app-header {
            height: 50px;
            padding: 0 18px;
            display: flex;
            align-items: center;
            flex-shrink: 0;
            border-bottom: 1px solid var(--border-color);
        }

        .api-app-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-dark);
        }

        .api-app-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: var(--bg-content);
        }

        /* 配置表单 */
        .config-form {
            padding: 10px 0;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #8a6b7d;
            margin-bottom: 8px;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 1.5px solid #e6d6e1;
            border-radius: 12px;
            font-size: 14px;
            color: #5a4a52;
            transition: all 0.2s ease;
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: #d8a3bb;
            box-shadow: 0 0 0 3px rgba(216, 163, 187, 0.1);
        }

        .form-input::placeholder {
            color: #b8a6b1;
        }

        /* 错误状态的输入框 */
        .form-input.error {
            border-color: #e8a3bb;
        }

        .slider-container {
            padding: 8px 0;
        }

        .slider-value {
            text-align: right;
            font-size: 14px;
            color: #d8a3bb;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .slider {
            width: 100%;
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: #e6d6e1;
            border-radius: 3px;
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: #d8a3bb;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(216, 163, 187, 0.4);
        }

        .slider::-moz-range-thumb {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: #d8a3bb;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(216, 163, 187, 0.4);
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 25px;
        }

        .btn {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #d8a3bb 0%, #c792b1 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(216, 163, 187, 0.3);
        }

        .btn-secondary {
            background: #f8f5f7;
            color: #8a6b7d;
            border: 1.5px solid #e6d6e1;
        }

        .btn-secondary:hover {
            background: #f0e6ed;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: #e8a3bb;
            color: white;
        }

        .btn-danger:hover {
            background: #e08fad;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(232, 163, 187, 0.3);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* 内联提示样式 */
        .inline-error {
            color: #e8a3bb;
            font-size: 12px;
            margin-top: 5px;
            display: none;
            font-weight: 500;
        }

        .inline-error.show {
            display: block;
        }

        /* 测试状态框样式 */
        .test-status {
            display: none;
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 13px;
        }

        .test-status.success,
        .test-status.error,
        .test-status.info {
            display: block;
            background: rgba(232, 163, 187, 0.08);
            border: 1.5px solid rgba(232, 163, 187, 0.2);
            color: #8a6b7d;
        }

        .test-status.success {
            border-color: rgba(232, 163, 187, 0.3);
        }

        .test-status.error {
            background: rgba(232, 163, 187, 0.15);
            border-color: rgba(232, 163, 187, 0.3);
        }

        /* 刷新模型按钮样式 */
        .refresh-models-btn {
            margin-left: 10px;
            padding: 5px 10px;
            background: #f8f5f7;
            border: 1.5px solid #e6d6e1;
            border-radius: 8px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #8a6b7d;
            font-weight: 500;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        .refresh-models-btn:hover {
            background: #f0e6ed;
            border-color: #d8a3bb;
        }

        .refresh-models-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .form-row {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            margin-bottom: 12px;
        }

        .form-row .form-label {
            flex: 1;
        }

        /* ==================== 全屏模式自适应样式 ==================== */

        /* 在全屏模式下使用灵活的自适应单位 */
        .kyocera-phone.fullscreen .app-grid {
            max-width: 90%;  /* 使用百分比，更灵活 */
            gap: 2.5vh 2vw;  /* 使用视口单位，自动适配 */
            padding: 0 4vw;  /* 增加边距，避免拥挤 */
            margin-bottom: 2vh;  /* 增加底部间距 */
        }

        /* 在全屏模式下自适应图标尺寸 */
        .kyocera-phone.fullscreen .icon-square {
            width: clamp(56px, 6.5vh, 72px);  /* 最小56px，推荐6.5vh，最大72px */
            height: clamp(56px, 6.5vh, 72px);
            border-radius: clamp(16px, 1.8vh, 20px);
        }

        /* 在全屏模式下自适应应用图标字体 */
        .kyocera-phone.fullscreen .icon-square i {
            font-size: clamp(24px, 2.6vh, 28px);
        }

        /* 在全屏模式下调整应用名称 */
        .kyocera-phone.fullscreen .app-name {
            font-size: clamp(11px, 1.2vh, 13px);
            max-width: clamp(65px, 8vw, 85px);
            line-height: 1.4;
        }

        /* 在全屏模式下按比例增大经期小部件 */
        .kyocera-phone.fullscreen .period-widget {
            padding: clamp(15px, 2vh, 20px);
        }

        .kyocera-phone.fullscreen .period-icon-container {
            width: clamp(56px, 6.5vh, 72px);
            height: clamp(56px, 6.5vh, 72px);
            border-radius: clamp(16px, 1.8vh, 20px);
        }

        .kyocera-phone.fullscreen .period-icon {
            font-size: clamp(28px, 3vh, 32px);
        }

        .kyocera-phone.fullscreen .period-status {
            font-size: clamp(16px, 1.7vh, 18px);
        }

        .kyocera-phone.fullscreen .period-day {
            font-size: clamp(14px, 1.5vh, 16px);
        }

        .kyocera-phone.fullscreen .period-next {
            font-size: clamp(13px, 1.3vh, 15px);
        }

        .kyocera-phone.fullscreen .period-countdown {
            font-size: clamp(12px, 1.2vh, 14px);
            padding: clamp(4px, 0.5vh, 6px) clamp(10px, 1.5vw, 12px);
        }

        /* 在全屏模式下自适应底部导航 */
        .kyocera-phone.fullscreen .bottom-nav-modern {
            width: clamp(280px, 85%, 400px);
            height: clamp(65px, 7vh, 75px);
            border-radius: clamp(22px, 2.5vh, 28px);
            bottom: clamp(20px, 3vh, 30px);
        }

        .kyocera-phone.fullscreen .nav-icon-modern i {
            font-size: clamp(22px, 2.3vh, 26px);
            margin-bottom: clamp(6px, 0.7vh, 8px);
        }

        .kyocera-phone.fullscreen .nav-name-modern {
            font-size: clamp(11px, 1.2vh, 13px);
        }

        /* 在全屏模式下自适应home-screen-page的下边距 */
        .kyocera-phone.fullscreen .home-screen-page {
            padding-bottom: clamp(88px, 12vh, 120px);
        }

        /* 全屏模式下的状态栏和状态图标也需要适当调整 */
        .kyocera-phone.fullscreen .status-bar {
            height: clamp(30px, 4vh, 40px);
            padding: 0 clamp(18px, 3vw, 24px);
        }

        .kyocera-phone.fullscreen .time-display {
            font-size: clamp(13px, 1.4vh, 15px);
        }

        .kyocera-phone.fullscreen .cloud-container {
            width: clamp(120px, 15vw, 160px);
            height: clamp(26px, 3vh, 30px);
        }

        .kyocera-phone.fullscreen .cloud-bar .text {
            font-size: clamp(9.5px, 1vh, 11px);
        }

        /* 应用内界面在全屏模式下的适配 */
        .kyocera-phone.fullscreen .app-header {
            height: clamp(50px, 6vh, 60px);
            padding: 0 clamp(18px, 3vw, 24px);
        }

        .kyocera-phone.fullscreen .app-title {
            font-size: clamp(18px, 2vh, 20px);
        }

        .kyocera-phone.fullscreen .back-button {
            width: clamp(36px, 4vh, 40px);
            height: clamp(36px, 4vh, 40px);
        }

        .kyocera-phone.fullscreen .back-button i {
            font-size: clamp(18px, 2vh, 20px);
        }

        /* 设置界面内的文字和控件适配 */
        .kyocera-phone.fullscreen .setting-name,
        .kyocera-phone.fullscreen .switch-name {
            font-size: clamp(16px, 1.7vh, 18px);
        }

        .kyocera-phone.fullscreen .setting-desc,
        .kyocera-phone.fullscreen .switch-desc {
            font-size: clamp(13px, 1.3vh, 15px);
        }

        /* 简单的加载动画 */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .fa-spinner {
            animation: spin 1s linear infinite;
        }

        .refresh-models-btn i {
            font-size: 10px;
        }

        @media (max-width: 400px) {
            .kyocera-phone {
                transform: scale(0.9);
            }
        }
        
        @keyframes logoFadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to   { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes sloganFadeIn {
            from { opacity: 0; transform: translateY(6px); }
            to   { opacity: 0.8; transform: translateY(0); }
        }
        
        @keyframes bootFadeOut {
            from { opacity: 1; }
            to   { opacity: 0; pointer-events: none; }
        }
        
        @keyframes bounce {
            from { transform: scaleY(1); }
            to   { transform: scaleY(0.6); }
        }
    </style>
</head>
<body>
    <div class="kyocera-phone" id="kyocera-phone">
        <div class="earpiece"></div>
        <div class="screen">
            <div class="wallpaper" id="wallpaper"></div>
            
            <!-- 开机动画 -->
            <div class="boot-screen" id="bootScreen">
                <div class="logo">Blush Note</div>
                <div class="slogan">Softly Blush, Gently Note</div>
            </div>
            
            <!-- 锁屏界面 -->
            <div class="lock-screen" id="lockScreen">
                <div class="lock-time" id="lock-time">09:42</div>
                <div class="lock-info">
                    <div class="lock-date" id="lock-date">Wednesday, May 21</div>
                    <div class="lock-slogan">Softly Blush, Gently Note</div>
                </div>
                <div class="unlock-tip">
                    Swipe up to unlock
                    <div class="unlock-icon"></div>
                </div>
            </div>
            
            <!-- 桌面状态栏 -->
            <div class="status-bar">
                <div class="time-display" id="current-time">09:42</div>
                <div class="cloud-container" id="cloudContainer">
                    <div class="cloud-bar" id="cloudBar">
                        <i class="fas fa-music icon"></i>
                        <span class="text">正在播放：小幸运</span>
                    </div>
                </div>
                <div class="status-icons">
                    <div class="signal-icon">
                        <div class="signal-bar"></div>
                        <div class="signal-bar"></div>
                        <div class="signal-bar"></div>
                        <div class="signal-bar"></div>
                    </div>
                    <div class="wifi-icon-real">
                        <i class="fas fa-wifi"></i>
                    </div>
                    <div class="battery-icon">
                        <div class="battery-body">
                            <div class="battery-capacity"></div>
                        </div>
                        <div class="battery-head"></div>
                    </div>
                </div>
            </div>
            
            <!-- 桌面滑动容器 -->
            <div class="screens-container" id="screens-container">
                <!-- 屏幕1 -->
                <div class="home-screen-page" id="screen-1">
                    <div class="app-grid" id="app-grid-1">
                        <div class="period-widget" id="period-widget">
                            <div class="period-icon-container">
                                <i class="fas fa-tint period-icon"></i>
                            </div>
                            <div class="period-status">经期中</div>
                            <div class="period-day">第3天</div>
                            <div class="period-info">
                                <div class="period-next">下次: 9月28日</div>
                                <div class="period-countdown">还有14天</div>
                            </div>
                        </div>
                        
                        <!-- 屏幕1应用 -->
                        <div class="app-icon" data-app="guest">
                            <div class="icon-square" style="border-color: rgba(216, 163, 187, 0.3);">
                                <i class="fas fa-user" style="color: #d8a3bb;"></i>
                            </div>
                            <span class="app-name">Guest</span>
                        </div>
                        <div class="app-icon" data-app="self">
                            <div class="icon-square" style="border-color: rgba(216, 163, 187, 0.3);">
                                <i class="fas fa-user-circle" style="color: #d8a3bb;"></i>
                            </div>
                            <span class="app-name">Self</span>
                        </div>
                        <div class="app-icon" data-app="world-book">
                            <div class="icon-square" style="border-color: rgba(154, 139, 189, 0.3);">
                                <i class="fas fa-globe-americas" style="color: #9a8bbd;"></i>
                            </div>
                            <span class="app-name">世界书</span>
                        </div>
                        <div class="app-icon" data-app="theme-store">
                            <div class="icon-square" style="border-color: rgba(154, 139, 189, 0.3);">
                                <i class="fas fa-paint-brush" style="color: #9a8bbd;"></i>
                            </div>
                            <span class="app-name">主题商店</span>
                        </div>
                        <div class="app-icon" data-app="cloud-manager">
                            <div class="icon-square" style="border-color: rgba(138, 107, 125, 0.3);">
                                <i class="fas fa-cloud" style="color: #8a6b7d;"></i>
                            </div>
                            <span class="app-name">云盘管家</span>
                        </div>
                        <div class="app-icon" data-app="music">
                            <div class="icon-square" style="border-color: rgba(122, 169, 198, 0.3);">
                                <i class="fas fa-music" style="color: #7aa9c6;"></i>
                            </div>
                            <span class="app-name">音乐</span>
                        </div>
                        <div class="app-icon" data-app="ao3">
                            <div class="icon-square" style="border-color: rgba(122, 169, 198, 0.3);">
                                <i class="fas fa-book" style="color: #7aa9c6;"></i>
                            </div>
                            <span class="app-name">AO3</span>
                        </div>
                        <div class="app-icon" data-app="calendar">
                            <div class="icon-square" style="border-color: rgba(122, 169, 198, 0.3);">
                                <i class="fas fa-calendar-alt" style="color: #7aa9c6;"></i>
                            </div>
                            <span class="app-name">日历</span>
                        </div>
                    </div>
                </div>
                
                <!-- 屏幕2 -->
                <div class="home-screen-page" id="screen-2">
                    <div class="app-grid" id="app-grid-2">
                        <!-- 屏幕2应用 -->
                        <div class="app-icon" data-app="bb-cinema">
                            <div class="icon-square" style="border-color: rgba(122, 169, 198, 0.3);">
                                <i class="fas fa-film" style="color: #7aa9c6;"></i>
                            </div>
                            <span class="app-name">BB影院</span>
                        </div>
                        <div class="app-icon" data-app="game">
                            <div class="icon-square" style="border-color: rgba(122, 169, 198, 0.3);">
                                <i class="fas fa-gamepad" style="color: #7aa9c6;"></i>
                            </div>
                            <span class="app-name">游戏</span>
                        </div>
                        <div class="app-icon" data-app="wallet">
                            <div class="icon-square" style="border-color: rgba(154, 139, 189, 0.3);">
                                <i class="fas fa-wallet" style="color: #9a8bbd;"></i>
                            </div>
                            <span class="app-name">钱包</span>
                        </div>
                        <div class="app-icon" data-app="weibo">
                            <div class="icon-square" style="border-color: rgba(154, 139, 189, 0.3);">
                                <i class="fab fa-weibo" style="color: #9a8bbd;"></i>
                            </div>
                            <span class="app-name">微博</span>
                        </div>
                        <div class="app-icon" data-app="lumen">
                            <div class="icon-square" style="border-color: rgba(216, 163, 187, 0.3);">
                                <i class="fas fa-lightbulb" style="color: #d8a3bb;"></i>
                            </div>
                            <span class="app-name">Lumen</span>
                        </div>
                        <div class="app-icon" data-app="taobao">
                            <div class="icon-square" style="border-color: rgba(122, 169, 198, 0.3);">
                                <i class="fas fa-shopping-cart" style="color: #7aa9c6;"></i>
                            </div>
                            <span class="app-name">淘宝</span>
                        </div>
                        <div class="app-icon" data-app="meituan">
                            <div class="icon-square" style="border-color: rgba(122, 169, 198, 0.3);">
                                <i class="fas fa-utensils" style="color: #7aa9c6;"></i>
                            </div>
                            <span class="app-name">美团</span>
                        </div>
                        <div class="app-icon" data-app="black-box">
                            <div class="icon-square" style="border-color: rgba(154, 139, 189, 0.3);">
                                <i class="fas fa-cube" style="color: #9a8bbd;"></i>
                            </div>
                            <span class="app-name">黑箱</span>
                        </div>
                        <div class="app-icon" data-app="forum">
                            <div class="icon-square" style="border-color: rgba(138, 107, 125, 0.3);">
                                <i class="fas fa-users" style="color: #8a6b7d;"></i>
                            </div>
                            <span class="app-name">论坛</span>
                        </div>
                        <div class="app-icon" data-app="alipay">
                            <div class="icon-square" style="border-color: rgba(122, 169, 198, 0.3);">
                                <i class="fas fa-money-check-alt" style="color: #7aa9c6;"></i>
                            </div>
                            <span class="app-name">支付宝</span>
                        </div>
                        <div class="app-icon" data-app="downloads">
                            <div class="icon-square" style="border-color: rgba(138, 107, 125, 0.3);">
                                <i class="fas fa-download" style="color: #8a6b7d;"></i>
                            </div>
                            <span class="app-name">下载</span>
                        </div>
                        <div class="app-icon" data-app="map">
                            <div class="icon-square" style="border-color: rgba(122, 169, 198, 0.3);">
                                <i class="fas fa-map-marked-alt" style="color: #7aa9c6;"></i>
                            </div>
                            <span class="app-name">地图</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 底部导航栏 -->
            <div class="bottom-nav-modern">
                <div class="nav-icon-modern" data-app="sms" id="nav-sms">
                    <i class="fas fa-comment-alt"></i>
                    <span class="nav-name-modern">短信</span>
                </div>
                <!-- 唯一的设置入口 -->
                <div class="nav-icon-modern" data-app="settings" id="nav-settings">
                    <i class="fas fa-cog"></i>
                    <span class="nav-name-modern">设置</span>
                </div>
                <div class="nav-icon-modern" data-app="linko" id="nav-linko">
                    <i class="fas fa-link"></i>
                    <span class="nav-name-modern">Linko</span>
                </div>
            </div>
            
            <!-- 设置应用界面 -->
            <div class="app-view" id="settings-app-view">
                <!-- 应用内状态栏 -->
                <div class="status-bar">
                    <div class="time-display" id="app-current-time">09:42</div>
                    <div class="cloud-container" id="app-cloudContainer">
                        <div class="cloud-bar" id="app-cloudBar">
                            <i class="fas fa-music icon"></i>
                            <span class="text">正在播放：小幸运</span>
                        </div>
                    </div>
                    <div class="status-icons">
                        <div class="signal-icon">
                            <div class="signal-bar"></div>
                            <div class="signal-bar"></div>
                            <div class="signal-bar"></div>
                            <div class="signal-bar"></div>
                        </div>
                        <div class="wifi-icon-real">
                            <i class="fas fa-wifi"></i>
                        </div>
                        <div class="battery-icon">
                            <div class="battery-body">
                                <div class="battery-capacity"></div>
                            </div>
                            <div class="battery-head"></div>
                        </div>
                    </div>
                </div>
                
                <!-- 应用标题栏 -->
                <div class="app-header">
                    <button class="back-button" id="settings-back">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="app-title">设置</div>
                </div>
                
                <!-- 设置内容 -->
                <div class="app-content">
                    <div class="settings-list">
                        <div class="setting-item" id="api-setting">
                            <div class="setting-item-left">
                                <div class="setting-name">API设置</div>
                                <div class="setting-desc">配置应用接口和网络连接</div>
                            </div>
                            <div class="setting-arrow">
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>
                        <div class="setting-item" id="display-setting">
                            <div class="setting-item-left">
                                <div class="setting-name">显示设置</div>
                                <div class="setting-desc">调整屏幕亮度和主题</div>
                            </div>
                            <div class="setting-arrow">
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- API设置页面 -->
            <div class="app-view" id="api-settings-view">
                <!-- API设置状态栏 -->
                <div class="status-bar">
                    <div class="time-display" id="api-current-time">09:42</div>
                    <div class="cloud-container" id="api-cloudContainer">
                        <div class="cloud-bar" id="api-cloudBar">
                            <i class="fas fa-music icon"></i>
                            <span class="text">正在播放：小幸运</span>
                        </div>
                    </div>
                    <div class="status-icons">
                        <div class="signal-icon">
                            <div class="signal-bar"></div>
                            <div class="signal-bar"></div>
                            <div class="signal-bar"></div>
                            <div class="signal-bar"></div>
                        </div>
                        <div class="wifi-icon-real">
                            <i class="fas fa-wifi"></i>
                        </div>
                        <div class="battery-icon">
                            <div class="battery-body">
                                <div class="battery-capacity"></div>
                            </div>
                            <div class="battery-head"></div>
                        </div>
                    </div>
                </div>
                
                <!-- API设置标题栏 -->
                <div class="app-header">
                    <button class="back-button" id="api-back">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="app-title">API设置</div>
                </div>
                
                <!-- API设置内容 -->
                <div class="api-app-content">
                    <div class="config-form">
                        <!-- 已保存配置选择 -->
                        <div class="form-group">
                            <label class="form-label" for="config-select">选择已保存配置</label>
                            <div class="select-wrapper">
                                <select id="config-select" class="form-input">
                                    <option value="">新建配置</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="config-name">配置名称</label>
                            <input type="text" id="config-name" class="form-input" placeholder="例如：OpenAI 生产环境">
                            <div class="inline-error" id="name-error">请输入配置名称</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="api-url">API URL</label>
                            <input type="text" id="api-url" class="form-input" placeholder="https://api.openai.com/v1">
                            <div class="inline-error" id="url-error">请输入 API URL</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="api-key">API Key</label>
                            <input type="password" id="api-key" class="form-input" placeholder="sk-xxxxxxxxxxxxxxxxxxxxxxxx">
                            <div class="inline-error" id="key-error">请输入 API Key</div>
                        </div>
                        
                        <!-- 测试状态框 -->
                        <div id="test-status" class="test-status"></div>
                        
                        <div class="form-group">
                            <div class="form-row">
                                <label class="form-label" for="model-select">
                                    模型选择
                                </label>
                                <button type="button" class="refresh-models-btn" id="refresh-models-btn">
                                    <i class="fa-solid fa-rotate"></i> 刷新模型
                                </button>
                            </div>
                            <div class="select-wrapper">
                                <select id="model-select" class="form-input">
                                    <option value="">请先获取模型列表</option>
                                </select>
                            </div>
                            <div class="inline-error" id="model-error">请选择模型</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">模型温度</label>
                            <div class="slider-container">
                                <div class="slider-value" id="temperature-value">0.8</div>
                                <input type="range" id="temperature-slider" class="slider" min="0" max="1" step="0.1" value="0.8">
                            </div>
                        </div>
                        
                        <!-- 按钮组 -->
                        <div class="button-group">
                            <button class="btn btn-secondary" id="reset-btn">
                                <i class="fa-solid fa-rotate-left"></i>
                                重置
                            </button>
                            <button class="btn btn-primary" id="save-btn">
                                <i class="fa-solid fa-save"></i>
                                保存配置
                            </button>
                        </div>
                        
                        <div class="button-group" style="margin-top: 12px;">
                            <button class="btn btn-danger" id="delete-btn" style="display: none;">
                                <i class="fa-solid fa-trash"></i>
                                删除当前配置
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 显示设置页面 -->
            <div class="app-view" id="display-settings-view">
                <!-- 显示设置状态栏 -->
                <div class="status-bar">
                    <div class="time-display" id="display-current-time">09:42</div>
                    <div class="cloud-container" id="display-cloudContainer">
                        <div class="cloud-bar" id="display-cloudBar">
                            <i class="fas fa-music icon"></i>
                            <span class="text">正在播放：小幸运</span>
                        </div>
                    </div>
                    <div class="status-icons">
                        <div class="signal-icon">
                            <div class="signal-bar"></div>
                            <div class="signal-bar"></div>
                            <div class="signal-bar"></div>
                            <div class="signal-bar"></div>
                        </div>
                        <div class="wifi-icon-real">
                            <i class="fas fa-wifi"></i>
                        </div>
                        <div class="battery-icon">
                            <div class="battery-body">
                                <div class="battery-capacity"></div>
                            </div>
                            <div class="battery-head"></div>
                        </div>
                    </div>
                </div>
                
                <!-- 显示设置标题栏 -->
                <div class="app-header">
                    <button class="back-button" id="display-back">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="app-title">显示设置</div>
                </div>
                
                <!-- 显示设置内容 -->
                <div class="display-app-content">
                    <!-- 亮度调节 -->
                    <div class="brightness-slider-container">
                        <label class="brightness-label">屏幕亮度</label>
                        <div class="brightness-control">
                            <div class="brightness-icon">
                                <i class="fas fa-sun"></i>
                            </div>
                            <input type="range" id="brightness-slider" class="brightness-slider" min="20" max="100" value="80">
                            <div class="brightness-icon">
                                <i class="fas fa-sun" style="color: var(--primary-pink);"></i>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 全屏显示开关 -->
                    <div class="switch-item" id="fullscreen-switch-item">
                        <div class="switch-item-left">
                            <div class="switch-name">全屏显示</div>
                            <div class="switch-desc">将手机模拟器扩展到全屏</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="fullscreen-toggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <!-- 深色模式开关 -->
                    <div class="switch-item" id="darkmode-switch-item">
                        <div class="switch-item-left">
                            <div class="switch-name">深色模式</div>
                            <div class="switch-desc">使用深色主题保护眼睛</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="darkmode-toggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <!-- 自动亮度开关 -->
                    <div class="switch-item" id="autobrightness-switch-item">
                        <div class="switch-item-left">
                            <div class="switch-name">自动亮度</div>
                            <div class="switch-desc">根据环境光线自动调节亮度</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="autobrightness-toggle">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== 基础功能 ====================
        
        function updateTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const timeStr = `${hours}:${minutes}`;
            
            document.getElementById('current-time').textContent = timeStr;
            document.getElementById('app-current-time').textContent = timeStr;
            document.getElementById('api-current-time').textContent = timeStr;
            document.getElementById('display-current-time').textContent = timeStr;
            document.getElementById('lock-time').textContent = timeStr;
            
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const dateStr = now.toLocaleDateString('en-US', options);
            document.getElementById('lock-date').textContent = dateStr;
        }
        
        const swipeManager = {
            screensContainer: null,
            currentPage: 0,
            totalPages: 2,
            startX: 0,
            isSwiping: false,
            
            init: function() {
                this.screensContainer = document.getElementById('screens-container');
                this.totalPages = this.screensContainer.children.length;
                this.setupTouchEvents();
            },
            
            setupTouchEvents: function() {
                const container = this.screensContainer;
                
                container.addEventListener('touchstart', (e) => {
                    this.startX = e.touches[0].clientX;
                    this.isSwiping = true;
                }, { passive: true });
                
                container.addEventListener('touchend', (e) => {
                    if (!this.isSwiping) return;
                    const endX = e.changedTouches[0].clientX;
                    const diffX = this.startX - endX;
                    
                    if (Math.abs(diffX) > 50) {
                        if (diffX > 0 && this.currentPage < this.totalPages - 1) {
                            this.goToPage(this.currentPage + 1);
                        } else if (diffX < 0 && this.currentPage > 0) {
                            this.goToPage(this.currentPage - 1);
                        }
                    }
                    this.isSwiping = false;
                });
                
                container.addEventListener('mousedown', (e) => {
                    this.startX = e.clientX;
                    this.isSwiping = true;
                });
                
                container.addEventListener('mouseup', (e) => {
                    if (!this.isSwiping) return;
                    const endX = e.clientX;
                    const diffX = this.startX - endX;
                    
                    if (Math.abs(diffX) > 50) {
                        if (diffX > 0 && this.currentPage < this.totalPages - 1) {
                            this.goToPage(this.currentPage + 1);
                        } else if (diffX < 0 && this.currentPage > 0) {
                            this.goToPage(this.currentPage - 1);
                        }
                    }
                    this.isSwiping = false;
                });
                
                container.addEventListener('dragstart', (e) => e.preventDefault());
            },
            
            goToPage: function(pageIndex) {
                if (pageIndex < 0 || pageIndex >= this.totalPages) return;
                this.currentPage = pageIndex;
                this.screensContainer.scrollTo({
                    left: pageIndex * this.screensContainer.offsetWidth,
                    behavior: 'smooth'
                });
            }
        };
        
        function initLockScreen() {
            const lockScreen = document.getElementById('lockScreen');
            const cloudContainer = document.getElementById('cloudContainer');
            const appCloudContainer = document.getElementById('app-cloudContainer');
            const apiCloudContainer = document.getElementById('api-cloudContainer');
            const displayCloudContainer = document.getElementById('display-cloudContainer');
            let startY = 0;
            
            lockScreen.addEventListener('touchstart', (e) => {
                startY = e.touches[0].clientY;
            });
            
            lockScreen.addEventListener('touchend', (e) => {
                const endY = e.changedTouches[0].clientY;
                if (startY - endY > 50) {
                    lockScreen.classList.add('unlocked');
                    setTimeout(() => {
                        cloudContainer.style.opacity = 1;
                        if (appCloudContainer) {
                            appCloudContainer.style.opacity = 1;
                        }
                        if (apiCloudContainer) {
                            apiCloudContainer.style.opacity = 1;
                        }
                        if (displayCloudContainer) {
                            displayCloudContainer.style.opacity = 1;
                        }
                    }, 500);
                }
            });
            
            lockScreen.addEventListener('mousedown', (e) => {
                startY = e.clientY;
            });
            
            lockScreen.addEventListener('mouseup', (e) => {
                const endY = e.clientY;
                if (startY - endY > 50) {
                    lockScreen.classList.add('unlocked');
                    setTimeout(() => {
                        cloudContainer.style.opacity = 1;
                        if (appCloudContainer) {
                            appCloudContainer.style.opacity = 1;
                        }
                        if (apiCloudContainer) {
                            apiCloudContainer.style.opacity = 1;
                        }
                        if (displayCloudContainer) {
                            displayCloudContainer.style.opacity = 1;
                        }
                    }, 500);
                }
            });
        }
        
        // ==================== 导航栈系统 ====================
        
        const navigationSystem = {
            stack: [],
            currentApp: null,
            currentView: null,
            lastScreenBeforeApp: 1,
            
            openApp: function(appName, fromScreen) {
                this.lastScreenBeforeApp = fromScreen;
                this.stack.push({
                    type: 'app-open',
                    app: appName,
                    fromScreen: fromScreen,
                    timestamp: Date.now()
                });
                
                this.currentApp = appName;
                this.hideDesktop();
                
                if (appName === 'settings') {
                    this.showApp('settings');
                } else if (appName === 'api-settings') {
                    this.showApp('api-settings');
                } else if (appName === 'display-settings') {
                    this.showApp('display-settings');
                }
            },
            
            goBack: function() {
                if (this.stack.length === 0) return;
                
                const lastAction = this.stack.pop();
                
                if (this.stack.length === 0) {
                    this.closeAllApps();
                    this.returnToScreen(this.lastScreenBeforeApp);
                } else if (lastAction.app === 'api-settings' || lastAction.app === 'display-settings') {
                    this.closeApp(lastAction.app);
                    this.showApp('settings');
                    this.currentApp = 'settings';
                } else {
                    this.closeAllApps();
                    this.returnToScreen(lastAction.fromScreen);
                }
            },
            
            hideDesktop: function() {
                document.getElementById('screens-container').style.display = 'none';
                document.querySelector('.bottom-nav-modern').style.display = 'none';
            },
            
            showDesktop: function() {
                document.getElementById('screens-container').style.display = 'flex';
                document.querySelector('.bottom-nav-modern').style.display = 'flex';
            },
            
            showApp: function(appName) {
                if (appName === 'settings') {
                    document.getElementById('settings-app-view').classList.add('active');
                } else if (appName === 'api-settings') {
                    document.getElementById('api-settings-view').classList.add('active');
                } else if (appName === 'display-settings') {
                    document.getElementById('display-settings-view').classList.add('active');
                }
                this.currentView = appName;
            },
            
            closeApp: function(appName) {
                if (appName === 'settings') {
                    document.getElementById('settings-app-view').classList.remove('active');
                } else if (appName === 'api-settings') {
                    document.getElementById('api-settings-view').classList.remove('active');
                } else if (appName === 'display-settings') {
                    document.getElementById('display-settings-view').classList.remove('active');
                }
            },
            
            closeAllApps: function() {
                this.closeApp('settings');
                this.closeApp('api-settings');
                this.closeApp('display-settings');
                this.currentApp = null;
                this.currentView = null;
            },
            
            returnToScreen: function(screenNumber) {
                this.showDesktop();
                if (screenNumber === 2) {
                    swipeManager.goToPage(1);
                } else {
                    swipeManager.goToPage(0);
                }
            }
        };
        
        // ==================== API设置功能 ====================
        
        // 配置数据
        let savedConfigs = [];
        let currentConfigId = null;
        let availableModels = [];

        // DOM 元素
        const configSelect = document.getElementById('config-select');
        const configNameInput = document.getElementById('config-name');
        const apiUrlInput = document.getElementById('api-url');
        const apiKeyInput = document.getElementById('api-key');
        const modelSelect = document.getElementById('model-select');
        const temperatureSlider = document.getElementById('temperature-slider');
        const temperatureValue = document.getElementById('temperature-value');
        const saveBtn = document.getElementById('save-btn');
        const resetBtn = document.getElementById('reset-btn');
        const deleteBtn = document.getElementById('delete-btn');
        const testStatus = document.getElementById('test-status');
        const refreshModelsBtn = document.getElementById('refresh-models-btn');
        
        // 错误提示元素
        const nameError = document.getElementById('name-error');
        const urlError = document.getElementById('url-error');
        const keyError = document.getElementById('key-error');
        const modelError = document.getElementById('model-error');

        // API设置初始化
        function initAPISettings() {
            renderConfigSelect();
            updateUI();
            
            // 事件监听
            temperatureSlider.addEventListener('input', updateTemperatureValue);
            saveBtn.addEventListener('click', saveConfig);
            resetBtn.addEventListener('click', resetForm);
            deleteBtn.addEventListener('click', deleteConfig);
            refreshModelsBtn.addEventListener('click', fetchModelsFromAPI);
            
            configSelect.addEventListener('change', async function() {
                const selectedId = parseInt(this.value);
                if (selectedId) {
                    selectConfig(selectedId);
                    // 自动获取模型列表
                    if (apiUrlInput.value.trim() && apiKeyInput.value.trim()) {
                        await fetchModelsFromAPI();
                    }
                } else {
                    resetForm();
                }
            });
            
            // 输入时清除错误状态
            configNameInput.addEventListener('input', () => hideError(nameError));
            apiUrlInput.addEventListener('input', () => hideError(urlError));
            apiKeyInput.addEventListener('input', () => hideError(keyError));
            modelSelect.addEventListener('change', () => hideError(modelError));
            
            updateTemperatureValue();
            
            // 从 localStorage 加载配置
            loadFromLocalStorage();
        }

        // 显示内联错误
        function showError(errorElement, message) {
            errorElement.textContent = message;
            errorElement.classList.add('show');
            const input = errorElement.previousElementSibling?.previousElementSibling || 
                         errorElement.previousElementSibling;
            if (input && input.classList.contains('form-input')) {
                input.classList.add('error');
            }
        }

        // 隐藏内联错误
        function hideError(errorElement) {
            errorElement.classList.remove('show');
            const input = errorElement.previousElementSibling?.previousElementSibling || 
                         errorElement.previousElementSibling;
            if (input && input.classList.contains('form-input')) {
                input.classList.remove('error');
            }
        }

        // 清除所有错误
        function clearAllErrors() {
            [nameError, urlError, keyError, modelError].forEach(hideError);
        }

        // 清空模型列表
        function clearModels() {
            modelSelect.innerHTML = '<option value="">请先获取模型列表</option>';
            availableModels = [];
        }

        // 显示测试状态
        function showTestStatus(message, type) {
            testStatus.className = `test-status ${type}`;
            testStatus.textContent = message;
        }

        // 清除测试状态
        function clearTestStatus() {
            testStatus.className = 'test-status';
            testStatus.textContent = '';
        }

        // 从API获取模型列表
        async function fetchModelsFromAPI() {
            const url = apiUrlInput.value.trim();
            const apiKey = apiKeyInput.value.trim();
            
            // 内联验证
            if (!url) {
                showError(urlError, '请输入API URL');
                return;
            }
            if (!apiKey) {
                showError(keyError, '请输入API Key');
                return;
            }
            
            const isFromConfigSelect = configSelect.value !== "";
            if (isFromConfigSelect) {
                showTestStatus('正在自动获取模型列表...', 'info');
            } else {
                refreshModelsBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> 获取中...';
                refreshModelsBtn.disabled = true;
                showTestStatus('正在获取模型列表...', 'info');
            }
            
            try {
                const baseUrl = url.replace(/\/$/, '');
                const response = await fetch(`${baseUrl}/models`, {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (!response.ok) {
                    throw new Error(`请求失败 (${response.status})`);
                }
                
                const data = await response.json();
                availableModels = data.data || [];
                
                // 更新模型选择框
                updateModelSelect();
                
                showTestStatus(`✅ 成功获取 ${availableModels.length} 个模型`, 'success');
                
            } catch (error) {
                console.error('获取模型失败:', error);
                showTestStatus(`❌ 获取模型失败: ${error.message}`, 'error');
                
                // 尝试备用端点
                try {
                    const baseUrl = url.replace(/\/$/, '');
                    const chatResponse = await fetch(`${baseUrl}/chat/completions`, {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${apiKey}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            model: "gpt-3.5-turbo",
                            messages: [{role: "user", content: "Hello"}],
                            max_tokens: 5
                        })
                    });
                    
                    if (chatResponse.ok) {
                        availableModels = [
                            { id: 'gpt-3.5-turbo' },
                            { id: 'gpt-4' }
                        ];
                        updateModelSelect();
                        showTestStatus('✅ API连接正常，使用默认模型列表', 'success');
                    }
                } catch (fallbackError) {
                    // 完全失败
                }
            } finally {
                if (!isFromConfigSelect) {
                    refreshModelsBtn.innerHTML = '<i class="fa-solid fa-rotate"></i> 刷新模型';
                    refreshModelsBtn.disabled = false;
                }
            }
        }

        // 更新模型选择框
        function updateModelSelect() {
            modelSelect.innerHTML = '<option value="">请选择模型</option>';
            
            if (availableModels.length === 0) {
                modelSelect.innerHTML = '<option value="">请先获取模型列表</option>';
                return;
            }
            
            availableModels.forEach(model => {
                const option = document.createElement('option');
                option.value = model.id;
                option.textContent = model.id;
                modelSelect.appendChild(option);
            });
            
            // 如果有已保存的配置，自动选择对应的模型
            if (currentConfigId) {
                const config = savedConfigs.find(c => c.id === currentConfigId);
                if (config && config.model) {
                    modelSelect.value = config.model;
                }
            }
        }

        // 测试API连接
        async function testAPIConnection(url, apiKey) {
            const baseUrl = url.replace(/\/$/, '');
            
            try {
                const response = await fetch(`${baseUrl}/models`, {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.status === 401) {
                    return { 
                        success: false, 
                        message: 'API Key无效或已过期',
                        details: '认证失败'
                    };
                }
                
                if (!response.ok) {
                    throw new Error(`API端点不存在 (${response.status})`);
                }
                
                const data = await response.json();
                availableModels = data.data || [];
                updateModelSelect();
                
                return { 
                    success: true, 
                    message: 'API连接测试成功',
                    details: `获取到 ${availableModels.length} 个模型`
                };
                
            } catch (error) {
                return { 
                    success: false, 
                    message: '连接失败',
                    details: error.message
                };
            }
        }

        // 渲染配置选择下拉框
        function renderConfigSelect() {
            configSelect.innerHTML = '<option value="">新建配置</option>';
            
            savedConfigs.forEach(config => {
                const option = document.createElement('option');
                option.value = config.id;
                let status = config.isValid ? '✅' : '❌';
                option.textContent = `${status} ${config.name}`;
                configSelect.appendChild(option);
            });
            
            if (currentConfigId) {
                configSelect.value = currentConfigId;
            }
        }

        // 选择配置
        function selectConfig(id) {
            currentConfigId = id;
            const config = savedConfigs.find(c => c.id === id);
            
            if (config) {
                configNameInput.value = config.name;
                apiUrlInput.value = config.url;
                apiKeyInput.value = config.key;
                temperatureSlider.value = config.temperature;
                modelSelect.value = config.model || '';
                
                updateTemperatureValue();
                updateUI();
                clearAllErrors();
            }
        }

        // 保存配置
        async function saveConfig() {
            const name = configNameInput.value.trim();
            const url = apiUrlInput.value.trim();
            const key = apiKeyInput.value.trim();
            const model = modelSelect.value;
            const temperature = parseFloat(temperatureSlider.value);
            
            // 内联验证
            let hasError = false;
            clearAllErrors();
            
            if (!name) {
                showError(nameError, '请输入配置名称');
                hasError = true;
            }
            if (!url) {
                showError(urlError, '请输入 API URL');
                hasError = true;
            }
            if (!key) {
                showError(keyError, '请输入 API Key');
                hasError = true;
            }
            if (!model) {
                showError(modelError, '请选择模型');
                hasError = true;
            }
            
            if (hasError) return;
            
            // 验证模型是否有效
            if (availableModels.length > 0 && !availableModels.some(m => m.id === model)) {
                showError(modelError, '请先刷新模型列表');
                return;
            }
            
            // 禁用按钮并显示测试状态
            saveBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> 测试连接...';
            saveBtn.disabled = true;
            showTestStatus('正在测试API连接...', 'info');
            
            // 测试API连接
            const testResult = await testAPIConnection(url, key);
            
            // 显示测试结果
            const statusClass = testResult.success ? 'success' : 'error';
            const statusIcon = testResult.success ? '✅' : '❌';
            showTestStatus(`${statusIcon} ${testResult.message}: ${testResult.details}`, statusClass);
            
            if (!testResult.success) {
                saveBtn.innerHTML = '<i class="fa-solid fa-save"></i> 保存配置';
                saveBtn.disabled = false;
                return;
            }
            
            // 继续保存配置
            saveBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> 保存中...';
            
            const now = new Date().toISOString();
            
            if (currentConfigId) {
                const index = savedConfigs.findIndex(c => c.id === currentConfigId);
                if (index !== -1) {
                    savedConfigs[index] = {
                        ...savedConfigs[index],
                        name,
                        url,
                        key,
                        model,
                        temperature,
                        lastTested: now,
                        isValid: true
                    };
                }
            } else {
                const newId = savedConfigs.length > 0 ? Math.max(...savedConfigs.map(c => c.id)) + 1 : 1;
                savedConfigs.push({
                    id: newId,
                    name,
                    url,
                    key,
                    model,
                    temperature,
                    lastTested: now,
                    isValid: true
                });
                currentConfigId = newId;
            }
            
            // 保存到 localStorage
            localStorage.setItem('apiConfigs', JSON.stringify(savedConfigs));
            
            // 更新UI
            renderConfigSelect();
            updateUI();
            
            // 恢复按钮状态
            saveBtn.innerHTML = '<i class="fa-solid fa-save"></i> 保存配置';
            saveBtn.disabled = false;
        }

        // 删除配置
        function deleteConfig() {
            if (!currentConfigId) return;
            
            const config = savedConfigs.find(c => c.id === currentConfigId);
            if (!config) return;
            
            if (confirm(`确定要删除配置 "${config.name}" 吗？`)) {
                savedConfigs = savedConfigs.filter(c => c.id !== currentConfigId);
                currentConfigId = null;
                
                localStorage.setItem('apiConfigs', JSON.stringify(savedConfigs));
                
                resetForm();
                renderConfigSelect();
                updateUI();
            }
        }

        // 重置表单
        function resetForm() {
            currentConfigId = null;
            configSelect.value = "";
            configNameInput.value = '';
            apiUrlInput.value = '';
            apiKeyInput.value = '';
            clearModels();
            temperatureSlider.value = '0.8';
            clearTestStatus();
            clearAllErrors();
            
            updateTemperatureValue();
            updateUI();
        }

        // 更新温度值显示
        function updateTemperatureValue() {
            temperatureValue.textContent = temperatureSlider.value;
        }

        // 更新UI状态
        function updateUI() {
            if (currentConfigId) {
                deleteBtn.style.display = 'block';
                saveBtn.innerHTML = '<i class="fa-solid fa-sync"></i> 更新配置';
            } else {
                deleteBtn.style.display = 'none';
                saveBtn.innerHTML = '<i class="fa-solid fa-save"></i> 保存配置';
            }
        }

        // 从 localStorage 加载配置
        function loadFromLocalStorage() {
            const saved = localStorage.getItem('apiConfigs');
            if (saved) {
                try {
                    savedConfigs = JSON.parse(saved);
                } catch (e) {
                    console.error('解析保存的配置失败:', e);
                }
            }
        }

        // ==================== 显示设置功能 ====================
        
        function initDisplaySettings() {
            // 亮度滑块
            const brightnessSlider = document.getElementById('brightness-slider');
            if (brightnessSlider) {
                brightnessSlider.addEventListener('input', function() {
                    // 这里可以添加亮度调节的实际逻辑
                    console.log('亮度调整到:', this.value + '%');
                });
            }
            
            // 全屏开关
            const fullscreenToggle = document.getElementById('fullscreen-toggle');
            if (fullscreenToggle) {
                fullscreenToggle.addEventListener('change', toggleFullscreen);
                
                // 检查是否已经是全屏
                const phone = document.getElementById('kyocera-phone');
                if (phone.classList.contains('fullscreen')) {
                    fullscreenToggle.checked = true;
                }
            }
            
            // 深色模式开关
            const darkmodeToggle = document.getElementById('darkmode-toggle');
            if (darkmodeToggle) {
                darkmodeToggle.addEventListener('change', function() {
                    if (this.checked) {
                        // 启用深色模式
                        console.log('深色模式已开启');
                    } else {
                        // 关闭深色模式
                        console.log('深色模式已关闭');
                    }
                });
            }
            
            // 自动亮度开关
            const autobrightnessToggle = document.getElementById('autobrightness-toggle');
            if (autobrightnessToggle) {
                autobrightnessToggle.addEventListener('change', function() {
                    if (this.checked) {
                        // 启用自动亮度
                        console.log('自动亮度已开启');
                    } else {
                        // 关闭自动亮度
                        console.log('自动亮度已关闭');
                    }
                });
            }
        }
        
        // 切换全屏
        function toggleFullscreen() {
            const phone = document.getElementById('kyocera-phone');
            const fullscreenToggle = document.getElementById('fullscreen-toggle');
            
            if (fullscreenToggle.checked) {
                // 进入全屏
                phone.classList.add('fullscreen');
                // 移除body的padding
                document.body.style.padding = '0';
                // 可以在这里添加其他全屏相关的逻辑
                console.log('已进入全屏模式');
            } else {
                // 退出全屏
                phone.classList.remove('fullscreen');
                // 恢复body的padding
                document.body.style.padding = '20px';
                console.log('已退出全屏模式');
            }
        }

        // ==================== 应用交互 ====================
        
        function setupSettingsApp() {
            // 底部导航的设置图标
            document.getElementById('nav-settings').addEventListener('click', function() {
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                    const currentScreen = swipeManager.currentPage + 1;
                    navigationSystem.openApp('settings', currentScreen);
                }, 150);
            });
            
            // 设置应用内的返回按钮
            document.getElementById('settings-back').addEventListener('click', function() {
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                    navigationSystem.goBack();
                }, 150);
            });
            
            // 设置选项点击 - API设置
            document.getElementById('api-setting').addEventListener('click', function() {
                this.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                    // 打开API设置页面
                    navigationSystem.openApp('api-settings', swipeManager.currentPage + 1);
                }, 150);
            });
            
            // 设置选项点击 - 显示设置
            document.getElementById('display-setting').addEventListener('click', function() {
                this.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                    // 打开显示设置页面
                    navigationSystem.openApp('display-settings', swipeManager.currentPage + 1);
                }, 150);
            });
            
            // API设置页面返回按钮
            document.getElementById('api-back').addEventListener('click', function() {
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                    navigationSystem.goBack();
                }, 150);
            });
            
            // 显示设置页面返回按钮
            document.getElementById('display-back').addEventListener('click', function() {
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                    navigationSystem.goBack();
                }, 150);
            });
        }
        
        // ==================== 其他应用图标点击效果 ====================
        
        function setupOtherAppIcons() {
            const otherIcons = document.querySelectorAll(`
                .app-icon,
                .nav-icon-modern:not(#nav-settings)
            `);
            
            otherIcons.forEach(icon => {
                icon.addEventListener('click', function() {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 150);
                });
            });
        }
        
        // ==================== 初始化 ====================
        
        document.addEventListener('DOMContentLoaded', function() {
            updateTime();
            setInterval(updateTime, 1000);
            swipeManager.init();
            initLockScreen();
            setupSettingsApp();
            setupOtherAppIcons();
            initAPISettings();
            initDisplaySettings();
        });
    </script>
</body>
</html>